Использование поиска на форуме ExBB


1. Информация

В качестве поискового алгоритма применяется разработка http://risearch.org/ специального
поискового движка с индексированием контента. Работа скрипта основана 
на предварительном составлении служебной информации (базы) о содержимом документов, 
в которых будет производиться поиск. Т.е. предварительно сканируются все 
файлы, составляется список найденных слов и другая служебная информация, 
необходимая для организации поиска. Полее подробную информацию, а также сам
поисковый скрипт можно скачать на сайте автора.
Скрипт поиска предназначался для индексации статических документов сайта, 
поэтому пришлось его немного поправить для интеграции в форум ExBB.
При индексации форума, скрипт просматривает темы во всех все разделах
форума (папки forumN), а также список тем и составляет базу. Также запоминается 
время последней индексации (файл last_index.php создаётся после первой 
индексации) и при последующей переиндексации просматриваются только те разделы форума, 
где было изменение информации.
Проиндексированный контент сохраняется в базе поиска и потом, соответсвенно 
ищется по ней. Поэтому если после индексации на форуме были новые ответы, 
то эта информация уже не попадёт в базу поиска до следующей индексации.
Переиндексировать форум можно любое количество раз, но желательно делать 
это не чаще одного раза в неделю, т.к. при большом количестве форумов и тем 
индексирующий скрипт достаточно сильно загружает сервер (каждый раз 
просматриваются все темы).


2. Подготовка к работе.

В директорию "search" форума необходимо скопировать все файлы и папки из 
дистрибутива форума с одноимённой директории.
Установить права на папку search и db разрешающие запись в них (777).
Набрать в браузере путь (URL) до срипта _index.php (например: http://ваш_сайт/форум/search/_index.php)
и дождаться пока скрипт завершит работу.
В папке db должны создаться необходимые файлы. Проверьте.
Всё! Можно пользоваться поиском.

Для переиндексации форума необходимо просто запустить скрипт _index.php.
Если Вам необходимо переиндексировать заного весь форум, то нужно сначала
удалить файл last_index.php и запустить скрипт индексации.


3. Предупреждение

Индексирующий скрипт (_index.php) может запустить любой человек на вашем
сайте, знающий путь к нему. Поэтому рекомендую переименовать его на
любое другое имя (и не давайте ему имя index.php!!!).


4. Замечание

Конечно, применение для динамического форума статической поисковой системы
не самый лучший вариант, но поверьте, это (пока) лучшее, что можно сделать
не используя баз данных. Особенно в отношении скорости поиска. Может и
существуют более совершенные алгоритмы, но мне они пока не попадались :)

Если у Вас есть доступ к cron'у, то можно дать ему задание на выполнение
индексации форума, например, раз в неделю.

Все вопросы по настройке и использованию поиска Вы, как всегда, можете
задавать на форуме поддержки.